<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VeggiePrice - Sri Lankan Wholesale Market Prices</title>

    <!-- Primary SEO meta -->
    <meta name="description"
        content="VeggiePrice provides daily wholesale vegetable prices from major Sri Lankan markets (Dambulla, Nuwara Eliya, Pettah). Updated daily to help farmers and buyers make informed decisions.">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://veggieprice.example.org/">

    <!-- Open Graph / Social -->
    <meta property="og:site_name" content="VeggiePrice">
    <meta property="og:title" content="VeggiePrice - Sri Lankan Wholesale Market Prices">
    <meta property="og:description"
        content="Daily wholesale vegetable prices from major Sri Lankan markets. Updated daily.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="assets/imgs/og-image.png">
    <meta name="twitter:card" content="summary_large_image">

    <!-- Structured data (JSON-LD) for basic SEO signals -->
    <script type="application/ld+json">{
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "VeggiePrice",
      "url": "https://veggieprice.example.org/",
      "description": "Daily wholesale vegetable prices from major Sri Lankan markets (Dambulla, Nuwara Eliya, Pettah).",
      "inLanguage": "en"
    }</script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts: Inter & Noto Sans Sinhala -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+Sinhala:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Replace bucket-like favicon with a neutral inline SVG favicon to avoid emoji-like icon on minimize -->
    <link rel="icon" type="image/png" href="assets\imgs\favicon (3).png">

    <!-- External CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<div id="loader">
    <div class="spinner"></div>
    <p>Loading VeggiePrice‚Ä¶</p>
</div>

<body class="flex flex-col min-h-screen">

    <!-- Floating Background Layer -->
    <div id="floating-container"></div>

    <!-- Mobile Floating Emoji Button (Hidden: Moved to Bottom Nav) -->
    <!-- <button id="emoji-toggle-mobile" ... > ... </button> -->

    <!-- === TELEGRAM-STYLE EMOJI INTERACTION SECTION === -->



    <!-- Sidebar Panel -->
    <div id="emoji-interaction-panel">

        <div class="text-[10px] uppercase font-bold text-green-700 tracking-wider">

        </div>

        <div class="flex items-center" id="emoji-veg-list">
        </div>

        <div class="h-6 w-px bg-green-200"></div>

        <div class="flex items-center" id="emoji-fruit-list">
        </div>

    </div>



    <!-- Navigation -->
    <nav id="main-top-nav"
        class="sticky top-0 z-40 relative border-b border-gray-200 bg-white/95 backdrop-blur-md shadow-sm transition-all duration-300">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div id="brand-logo-container" class="flex items-center space-x-2 cursor-pointer group"
                onclick="app.goHome()">
                <i
                    class="fa-solid fa-carrot text-orange-500 text-3xl group-hover:scale-110 transition-transform duration-300"></i>
                <h1 class="text-2xl font-bold tracking-wide text-green-800">VeggiePrice</h1>
            </div>

            <div class="flex items-center gap-4">
                <!-- Language Toggle Button -->
                <button onclick="app.toggleLanguage()"
                    class="bg-gray-50 hover:bg-gray-100 px-4 py-1.5 rounded-full text-xs font-bold border border-gray-200 text-gray-700 hover:text-green-700 hover:border-green-200 transition-all shadow-sm flex items-center gap-2">
                    <span id="lang-icon" class="text-base">üá±üá∞</span> <span id="lang-text"
                        class="tracking-wide">SINHALA</span>
                </button>

                <div class="hidden md:flex items-center space-x-8 text-sm font-semibold text-gray-600">
                    <button onclick="app.goHome()" class="hover:text-green-600 transition"
                        data-i18n="nav_home">Home</button>
                    <button onclick="app.scrollToSection('markets')" class="hover:text-green-600 transition"
                        data-i18n="nav_markets">Markets</button>
                    <button onclick="app.scrollToSection('care-guide')" class="hover:text-green-600 transition"
                        data-i18n="nav_agri_guide">Agri Guide</button>
                    <button onclick="app.toggleAbout()" class="hover:text-green-600 transition"
                        data-i18n="nav_about">About</button>
                    <button id="emoji-toggle-nav-btn" aria-pressed="true" title="Emoji fun"
                        onclick="emojiController.handleClick(event)"
                        class="ml-2 rounded-full transition transform hover:scale-105 flex items-center justify-center text-sm"
                        style="width:40px;height:40px;background:#fff;border:0;padding:0;box-shadow:0 6px 18px rgba(0,0,0,0.06);">
                        <span class="rounded-full bg-orange-100 p-2 carrot-emoji" aria-hidden="true">ü•ï</span>
                        <!-- Hamburger Menu Toggle (Hidden: Replaced by Bottom Nav) -->
                        <!-- 
                <button class="md:hidden text-gray-600 focus:outline-none ml-2 p-2 hover:bg-gray-100 rounded-lg transition"
                            onclick="app.toggleMobileMenu()">
                            <i class="fa-solid fa-bars text-xl"></i>
                        </button> 
                -->
                </div>
            </div>
            <!-- Mobile Menu Dropdown (Hidden) -->
            <!-- <div id="mobile-menu"
                class="hidden bg-white/95 backdrop-blur-md md:hidden pb-4 px-4 transition-all border-t border-gray-100 shadow-lg absolute w-full left-0 top-[60px]">
                <a href="#" onclick="app.goHome(); app.toggleMobileMenu()"
                    class="block py-4 text-gray-600 hover:text-green-600 border-b border-gray-50 font-medium"
                    data-i18n="nav_home">Home</a>
                <a href="#" onclick="app.scrollToSection('markets'); app.toggleMobileMenu()"
                    class="block py-4 text-gray-600 hover:text-green-600 border-b border-gray-50 font-medium"
                    data-i18n="nav_markets">Markets</a>
                <a href="#" onclick="app.toggleAbout(); app.toggleMobileMenu()"
                    class="block py-4 text-gray-600 hover:text-green-600 font-medium" data-i18n="nav_about">About</a>
                <button onclick="emojiController.handleClick(event); app.toggleMobileMenu()"
                    class="w-full text-left py-4 text-gray-600 hover:text-green-600 font-medium flex items-center gap-3">
                    <span class="bg-orange-100 p-2 rounded-full">ü•ï</span> Emoji Fun
                </button>
            </div> -->
    </nav>

    <!-- Mobile Page Title Bar (Below top nav) -->
    <div id="mobile-page-title" class="hidden md:hidden fixed top-[55px] left-0 right-0 bg-white border-b border-gray-100 h-12 flex items-center px-4 z-40 transition-all duration-300">
        <h2 id="page-title-text" class="text-base font-bold text-gray-800">Home</h2>
    </div>

    <!-- Main Content Area -->
    <main class="flex-grow relative z-10">

        <!-- View 1: Landing & Markets Grid -->
        <section id="view-home" class="fade-in">

            <!-- Hero Section -->
            <div class="relative bg-gradient-to-b from-white to-green-50/50 pt-12 pb-16 border-b border-gray-100">
                <div class="container mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center pl-4 md:pl-24">

                    <!-- Left: Content -->
                    <div class="text-left space-y-6 z-10 hero-left">
                        <!-- Micro-Trust Signals & Update Time -->
                        <div class="flex flex-col gap-2 mb-2">
                            <div class="flex flex-wrap gap-2">
                                <span
                                    class="bg-green-100 text-green-700 text-xs font-bold px-3 py-1 rounded-full flex items-center border border-green-200"><i
                                        class="fa-solid fa-check-circle mr-1.5"></i> <span
                                        data-i18n="trust_daily">Updated Daily</span></span>
                                <span
                                    class="bg-blue-50 text-blue-700 text-xs font-bold px-3 py-1 rounded-full flex items-center border border-blue-100">üá±üá∞
                                    <span data-i18n="trust_sl">Sri Lankan Wholesale</span></span>
                            </div>
                            <!-- Kind Update Message -->
                            <div class="text-xs text-gray-500 italic flex items-center">
                                <i class="fa-regular fa-clock mr-1.5"></i> <span data-i18n="update_time_msg">Prices
                                    update between 11:00 AM - 1:00 PM daily.</span>
                            </div>
                        </div>

                        <h2 class="hero-title text-4xl md:text-6xl font-bold text-gray-900 leading-tight tracking-tight"
                            data-i18n="hero_title">
                            Daily Wholesale <span class="highlight-pen text-green-700 relative inline-block">Vegetable
                                <svg class="absolute w-full h-5 -bottom-2 left-0 -z-10" viewBox="0 0 120 24"
                                    preserveAspectRatio="none" aria-hidden="true">
                                    <path d="M6 16 Q40 4 114 14" stroke="#bbf7d0" stroke-width="14" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round" opacity="0.98"></path>
                                </svg>
                            </span> Prices
                        </h2>

                        <p class="text-lg text-gray-600 font-light max-w-lg leading-relaxed" data-i18n="hero_subtitle">
                            Access daily wholesale vegetable prices directly from Dambulla, Nuwara Eliya, and Pettah. We
                            provide real-time, accurate market updates to help farmers and consumers make smarter buying
                            and selling decisions.
                        </p>

                        <div class="flex items-center gap-4 pt-2">
                            <div
                                class="inline-flex items-center bg-white px-5 py-2.5 rounded-full shadow-sm border border-green-200 text-sm">
                                <span class="relative flex h-2.5 w-2.5 mr-3">
                                    <span
                                        class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                                    <span class="relative inline-flex rounded-full h-2.5 w-2.5 bg-green-500"></span>
                                </span>
                                <span class="text-gray-500 mr-2 font-medium" data-i18n="updated_label">Updated:</span>
                                <span id="last-updated-text" class="font-bold text-green-700">Today</span>
                            </div>
                        </div>

                        <!-- Thank Govt Message -->
                        <p class="text-xs text-green-600/70 font-medium" data-i18n="thank_govt">Special thanks to
                            Department of Agriculture for price data.</p>
                    </div>

                    <!-- Right: Visual -->
                    <div class="relative hidden lg:block z-10">
                        <div class="hover:rotate-0 transition-transform duration-700">
                            <img src="assets\imgs\women.jpg.png" alt="Market">
                            <div class></div>

                            <!-- Floating Tag (With Dynamic Price ID) -->

                        </div>
                    </div>
                </div>

                <!-- Scroll Hint -->
                <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 flex flex-col items-center gap-1 cursor-pointer opacity-70 hover:opacity-100 transition"
                    onclick="app.scrollToSection('stats-section')">
                    <span class="text-xs font-semibold text-gray-400 uppercase tracking-widest">Scroll</span>
                    <i class="fa-solid fa-chevron-down text-green-500 animate-bounce"></i>
                </div>
            </div>

            <!-- "Today at a Glance" Stats Section -->
            <section id="stats-section" class="py-10 bg-white relative z-10 border-b border-gray-100">
                <div class="container mx-auto px-6 pl-4 md:pl-24">
                    <h3 class="text-lg font-bold text-gray-800 mb-6 flex items-center">
                        <i class="fa-solid fa-chart-line text-green-500 mr-2"></i> <span data-i18n="stats_title">Today
                            at a Glance</span>
                    </h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <!-- Stat Card 1 (Dynamic Price ID) -->
                        <div
                            class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition hover:-translate-y-1 group">
                            <div class="flex items-center gap-3 mb-2">
                                <div
                                    class="w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 group-hover:scale-110 transition">
                                    <i class="fa-solid fa-arrow-up-right-dots text-xs"></i>
                                </div>
                                <span class="text-xs font-bold text-gray-400 uppercase tracking-wider"
                                    data-i18n="stat_highest">Price</span>
                            </div>
                            <div class="font-bold text-gray-800 text-lg" data-i18n="stat_item_carrot">Carrot</div>
                            <div class="text-xs text-green-600 font-semibold">Rs. <span
                                    id="stat-price-carrot">250</span> <span class="text-gray-300"
                                    data-i18n="unit_kg">/kg</span></div>
                        </div>
                        <!-- Stat Card 2 -->
                        <div
                            class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition hover:-translate-y-1 group">
                            <div class="flex items-center gap-3 mb-2">
                                <div
                                    class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 group-hover:scale-110 transition">
                                    <i class="fa-solid fa-arrow-up text-xs"></i>
                                </div>
                                <span class="text-xs font-bold text-gray-400 uppercase tracking-wider"
                                    data-i18n="stat_dropped">Up</span>
                            </div>
                            <div class="font-bold text-gray-800 text-lg" data-i18n="stat_item_tomato">Tomato</div>
                            <div class="text-xs text-green-600 font-semibold"> Rs. 50<span class="text-gray-300"
                                    data-i18n="text_today">today</span></div>
                        </div>
                        <!-- Stat Card 3 -->
                        <div
                            class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition hover:-translate-y-1 group">
                            <div class="flex items-center gap-3 mb-2">
                                <div
                                    class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 group-hover:scale-110 transition">
                                    <i class="fa-solid fa-fire text-xs"></i>
                                </div>
                                <span class="text-xs font-bold text-gray-400 uppercase tracking-wider"
                                    data-i18n="stat_trending">Trending</span>
                            </div>
                            <div class="font-bold text-gray-800 text-lg" data-i18n="stat_item_onion">Tomato</div>
                            <div class="text-xs text-green-600 font-semibold" data-i18n="stat_high_demand">High Demand
                            </div>
                        </div>
                        <!-- Stat Card 4 -->
                        <div
                            class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition hover:-translate-y-1 group">
                            <div class="flex items-center gap-3 mb-2">
                                <div
                                    class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 group-hover:scale-110 transition">
                                    <i class="fa-regular fa-clock text-xs"></i>
                                </div>
                                <span class="text-xs font-bold text-gray-400 uppercase tracking-wider"
                                    data-i18n="stat_time">Time</span>
                            </div>
                            <div class="font-bold text-gray-800 text-lg" id="stat-update-time">06:30 AM</div>
                            <div class="text-xs text-green-600 font-semibold" data-i18n="stat_latest">Latest Update
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Market Selection Grid (compact, professional) -->
            <div id="markets" class="bg-green-50/50 py-6 md:py-8">
                <div class="container mx-auto px-4 sm:px-6 pl-4 md:pl-12">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-xl md:text-3xl font-bold text-gray-800" data-i18n="select_market">Select a
                                Market</h3>
                            <p class="text-gray-600 mt-1 text-sm max-w-xl" data-i18n="market_subtitle">Choose a location
                                to view detailed price lists.</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4 justify-items-center"
                        id="market-grid">
                        <!-- Market Cards injected by JS -->
                    </div>
                </div>
            </div>

            <!-- Nature Protection Section -->
            <div class="py-16 bg-white">
                <div class="container mx-auto px-6 pl-4 md:pl-24">
                    <div id="nature-section"
                        class="relative w-full rounded-[2.5rem] overflow-hidden shadow-2xl h-[350px] md:h-[450px] group">
                        <div class="absolute inset-0 z-0">
                            <img src="https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?q=80&w=1920&auto=format&fit=crop"
                                class="w-full h-full object-cover animate-slow-zoom" alt="Nature Background">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-black/30"></div>
                        </div>

                        <div class="relative z-10 h-full flex flex-col items-center justify-center text-center px-6">
                            <div
                                class="bg-white/10 backdrop-blur-md border border-white/20 p-8 md:p-12 rounded-3xl max-w-4xl w-full transform transition hover:scale-105 duration-500">
                                <div
                                    class="inline-block p-3 bg-green-500/20 rounded-full mb-4 backdrop-blur-sm border border-green-400/30">
                                    <i class="fa-solid fa-leaf text-3xl text-green-300"></i>
                                </div>
                                <h2 class="text-3xl md:text-5xl font-bold text-white mb-8 font-noto tracking-tight drop-shadow-lg"
                                    data-i18n="nature_title">Protect Nature, Preserve Life</h2>
                                <div id="nature-advice-container" class="h-24 flex items-center justify-center">
                                    <p id="nature-advice-text"
                                        class="text-xl md:text-3xl text-green-100 font-medium italic transition-all duration-700 transform">
                                        "Reduce plastic waste in our markets."
                                    </p>
                                </div>
                                <div id="nature-dots" class="flex justify-center gap-3 mt-8"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <!-- View 2: Specific Market Details -->
        <section id="view-market" class="hidden fade-in container mx-auto px-6 pl-4 md:pl-24 py-10">
            <!-- Breadcrumb / Back Button -->
            <div class="mb-4 md:mb-8 flex items-center">
                <button onclick="app.goHome()"
                    class="flex items-center text-gray-500 hover:text-green-600 font-medium transition bg-white/80 backdrop-blur-sm px-5 py-2.5 rounded-full shadow-sm border border-gray-200 hover:border-green-100 group">
                    <i
                        class="fa-solid fa-arrow-left mr-2 group-hover:-translate-x-1 transition-transform text-gray-400 group-hover:text-green-500"></i>
                    <span data-i18n="back_markets">Back to Markets</span>
                </button>
            </div>

            <!-- Market Header -->
            <div
                class="bg-white rounded-[0.75rem] md:rounded-[1.5rem] shadow-none md:shadow-sm border border-gray-100 p-2 md:p-6 mb-4 md:mb-8 flex flex-col md:flex-row items-center md:items-start gap-2 md:gap-4 relative overflow-hidden">
                <div
                    class="absolute top-0 right-0 w-16 h-16 md:w-48 md:h-48 bg-green-50 rounded-full blur-3xl -mr-12 -mt-12 md:-mr-24 md:-mt-24 opacity-30 pointer-events-none">
                </div>
                <img id="detail-market-img" src="" alt="Market"
                    class="w-10 h-10 md:w-20 md:h-20 object-cover rounded-md md:rounded-xl border-2 border-gray-100 shadow-none md:shadow-sm z-10">
                <div class="text-center md:text-left z-10">
                    <h2 id="detail-market-name" class="text-base md:text-2xl font-bold text-gray-900 mb-0 md:mb-1">
                        Market Name</h2>
                    <p
                        class="text-gray-500 text-xs md:text-sm font-medium flex items-center justify-center md:justify-start bg-gray-50 inline-block px-2 py-0.5 md:px-3 md:py-1 rounded-md md:rounded-lg">
                        <i class="fa-solid fa-location-dot text-red-400 mr-2"></i><span
                            id="detail-market-loc">Location</span>
                    </p>
                    <p class="text-xs md:text-sm text-gray-400 mt-3 md:mt-4 max-w-md leading-relaxed"
                        data-i18n="market_desc">Browse the
                        latest wholesale price lists below.</p>
                </div>
            </div>

            <!-- Current Prices Section -->
            <div class="mb-12">
                <div class="flex items-center justify-between mb-8 px-2 border-b border-gray-100 pb-4">
                    <h3 class="text-xl font-bold text-gray-800 flex items-center">
                        <span class="bg-yellow-100 p-2 rounded-lg mr-3"><i
                                class="fa-solid fa-bolt text-yellow-500"></i></span>
                        <span data-i18n="recent_updates">Recent Updates</span>
                    </h3>
                    <span
                        class="text-xs font-bold bg-green-50 text-green-700 px-4 py-2 rounded-full border border-green-100 shadow-sm"
                        data-i18n="last_3_days">Last 3 Days</span>
                </div>
                <div id="recent-prices-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6">
                </div>
                <!-- Note: no-recent-msg logic is handled by JS now -->
            </div>

            <!-- Past Prices Toggle -->
            <div class="border-t border-gray-100 pt-10">
                <button onclick="app.togglePastPrices()"
                    class="w-full flex justify-between items-center bg-white hover:bg-gray-50 p-6 rounded-2xl transition-all duration-300 border border-gray-200 hover:border-gray-300 shadow-sm group">
                    <span class="font-semibold text-gray-500 group-hover:text-gray-700 transition flex items-center"
                        data-i18n="view_past">
                        <i class="fa-solid fa-history mr-3 text-gray-300 group-hover:text-green-400"></i>
                        View Past Prices (Older than 3 days)
                    </span>
                    <i id="past-arrow"
                        class="fa-solid fa-chevron-down text-gray-300 transition-transform group-hover:text-gray-500 bg-gray-100 p-2 rounded-full"></i>
                </button>
                <div id="past-prices-container" class="hidden mt-8">
                    <div id="past-prices-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
                </div>
            </div>
        </section>

        <!-- About Modal -->
        <div id="about-overlay"
            class="fixed inset-0 bg-white/60 hidden z-50 flex items-center justify-center p-4 backdrop-blur-lg transition-all duration-300"
            onclick="app.toggleAbout()">
            <div class="bg-white rounded-3xl shadow-[0_20px_50px_rgba(0,0,0,0.1)] p-8 max-w-md w-full relative border border-white"
                onclick="event.stopPropagation()">
                <button onclick="app.toggleAbout()"
                    class="absolute top-5 right-5 text-gray-300 hover:text-gray-500 transition p-1 hover:bg-gray-50 rounded-full">
                    <i class="fa-solid fa-xmark text-2xl"></i>
                </button>
                <div class="text-center mb-8">
                    <div class="inline-block p-4 bg-green-50 rounded-2xl mb-4">
                        <i class="fa-solid fa-leaf text-3xl text-green-500"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800" data-i18n="about_title">About VeggiePrice</h3>
                </div>
                <p class="text-gray-600 mb-4 leading-relaxed text-center font-light" data-i18n="about_text_1">
                    VeggiePrice is a community project dedicated to bringing transparency to vegetable wholesale prices
                    in Sri Lanka.
                </p>
                <p class="text-gray-600 mb-8 text-center text-sm font-medium" data-i18n="about_text_2">
                    We manually update price lists from major economic centers including Dambulla, Nuwara Eliya, and
                    Pettah.
                </p>
                <div class="text-xs text-center text-gray-400 border-t border-gray-50 pt-6">
                    Version 1.6.0 ‚Ä¢ Advanced Dates
                </div>
            </div>
        </div>

    </main>

    <!-- Price Legend Widget -->
    <div id="price-legend" class="legend-box group">
        <button onclick="floatingFx.toggleLegend()"
            class="bg-white/90 backdrop-blur-md text-gray-700 font-bold py-3 pl-4 pr-5 rounded-full shadow-[0_8px_30px_rgb(0,0,0,0.08)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.15)] transition-all duration-300 flex items-center gap-3 border border-white hover:scale-105">
            <span class="text-xl bg-orange-100 p-1.5 rounded-full">üè∑Ô∏è</span>
            <span class="hidden group-hover:inline-block md:inline-block text-sm" data-i18n="todays_rates">Today's
                Rates</span>
            <i class="fa-solid fa-chevron-up text-xs text-gray-400"></i>
        </button>
        <div id="legend-content"
            class="hidden bg-white/90 backdrop-blur-xl rounded-2xl shadow-[0_20px_40px_rgba(0,0,0,0.1)] border border-white p-5 absolute bottom-16 right-0 w-72 origin-bottom-right transition-all">
            <h4
                class="text-sm font-bold text-gray-800 border-b border-gray-100/50 pb-3 mb-2 flex justify-between items-center">
                <span data-i18n="sample_prices">Sample Wholesale</span>
                <i class="fa-solid fa-xmark cursor-pointer text-gray-300 hover:text-red-400 transition p-1 hover:bg-gray-100 rounded"
                    onclick="floatingFx.toggleLegend()"></i>
            </h4>
            <ul class="text-xs space-y-1 max-h-56 overflow-y-auto pr-1 custom-scrollbar" id="legend-list">
                <!-- Injected via JS -->
            </ul>
        </div>
    </div>

    <!-- Why Use VeggiePrice Section -->
    <section id="why-veggieprice" class="bg-gradient-to-b from-white to-green-50/40 py-16 border-t border-gray-100">
        <div class="container mx-auto px-6 pl-4 md:pl-24">
            <div class="max-w-4xl mx-auto text-center space-y-6">
                <h3 class="text-3xl font-bold text-gray-900" data-i18n="why_title">Why use VeggiePrice?</h3>
                <p class="text-gray-600 max-w-2xl mx-auto" data-i18n="why_subtitle">Get reliable daily wholesale prices
                    directly from major Sri Lankan markets, so farmers and buyers can make smarter decisions.</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mt-6">
                    <div class="flex items-start gap-4">
                        <div class="bg-green-50 p-3 rounded-full text-green-600 text-xl"><i
                                class="fa-solid fa-check"></i></div>
                        <div>
                            <p class="font-semibold text-gray-800" data-i18n="why_point_1">Daily verified updates from
                                local markets</p>
                            <p class="text-sm text-gray-500" data-i18n="why_point_1_sub">Sourced and checked for
                                accuracy.</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4">
                        <div class="bg-green-50 p-3 rounded-full text-green-600 text-xl"><i
                                class="fa-solid fa-chart-line"></i></div>
                        <div>
                            <p class="font-semibold text-gray-800" data-i18n="why_point_2">Easy-to-read prices & trends
                            </p>
                            <p class="text-sm text-gray-500" data-i18n="why_point_2_sub">Quick snapshots to guide
                                decisions.</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4">
                        <div class="bg-green-50 p-3 rounded-full text-green-600 text-xl"><i
                                class="fa-solid fa-users"></i></div>
                        <div>
                            <p class="font-semibold text-gray-800" data-i18n="why_point_3">Built for farmers & buyers
                            </p>
                            <p class="text-sm text-gray-500" data-i18n="why_point_3_sub">Practical tools designed
                                locally.</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4">
                        <div class="bg-green-50 p-3 rounded-full text-green-600 text-xl"><i
                                class="fa-solid fa-shield-halved"></i></div>
                        <div>
                            <p class="font-semibold text-gray-800" data-i18n="why_point_4">Transparent and
                                community-driven</p>
                            <p class="text-sm text-gray-500" data-i18n="why_point_4_sub">Open and accountable data
                                sharing.</p>
                        </div>
                    </div>
                </div>
                <div class="mt-6">
                    <button onclick="app.scrollToSection('markets')"
                        class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-full font-semibold shadow-sm transition"
                        data-i18n="why_cta">Explore Markets</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Vegetable Care Guide Section -->
    <section id="care-guide" class="bg-gradient-to-b from-white to-green-50/40 py-16 border-t border-gray-100">
        <div class="container mx-auto px-6 pl-4 md:pl-24">
            <!-- Header -->
            <div class="max-w-4xl mx-auto text-center space-y-4 mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 flex items-center justify-center gap-3">
                    <i class="fa-solid fa-leaf text-green-600 text-3xl"></i>
                    <span data-i18n="care_guide_title">Vegetable Care Guide</span>
                </h2>
                <p class="text-gray-600 max-w-2xl mx-auto" data-i18n="care_guide_subtitle">Learn about common diseases, symptoms, and organic fertilizers for healthy vegetables</p>
            </div>

            <!-- Main Container -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8">
                
                <!-- Left: Vegetable Selection -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 sticky top-24">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fa-solid fa-list mr-2 text-green-600"></i>
                            <span data-i18n="select_vegetable">Select a Vegetable</span>
                        </h3>
                        <div id="vegetable-list" class="space-y-2">
                            <!-- Vegetables injected by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Right: Diseases & Fertilizers -->
                <div class="lg:col-span-2">
                    <!-- Vegetable Selection View (Hidden by default) -->
                    <div id="care-empty-state" class="bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center h-full flex flex-col items-center justify-center">
                        <i class="fa-solid fa-seedling text-6xl text-green-100 mb-4"></i>
                        <p class="text-gray-500 text-lg font-medium" data-i18n="click_to_see">Click a vegetable to see diseases</p>
                    </div>

                    <!-- Disease Details View (Hidden by default) -->
                    <div id="care-detail-view" class="hidden space-y-6">
                        
                        <!-- Selected Vegetable Header -->
                        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
                            <div class="flex items-center gap-4 mb-4">
                                <span id="selected-veg-icon" class="text-5xl">üçÖ</span>
                                <div>
                                    <h3 id="selected-veg-name" class="text-2xl font-bold text-gray-900">Tomato</h3>
                                    <p class="text-gray-500 text-sm" data-i18n="click_disease">Click a disease to see treatment</p>
                                </div>
                            </div>
                        </div>

                        <!-- Diseases List -->
                        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
                            <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                                <i class="fa-solid fa-virus text-red-500 mr-2"></i>
                                <span data-i18n="diseases">Diseases</span>
                            </h4>
                            <div id="diseases-list" class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <!-- Disease cards injected by JavaScript -->
                            </div>
                        </div>

                        <!-- Disease Details (Hidden by default) -->
                        <div id="disease-details" class="hidden bg-gradient-to-br from-orange-50 to-orange-100/50 rounded-2xl border-2 border-orange-200 p-6">
                            <div class="flex items-start gap-4 mb-6">
                                <i class="fa-solid fa-triangle-exclamation text-3xl text-orange-600 mt-1"></i>
                                <div class="flex-1">
                                    <h5 id="disease-name" class="text-xl font-bold text-gray-900 mb-2">Disease Name</h5>
                                    <div class="bg-white rounded-lg p-4 border border-orange-200">
                                        <p class="text-sm text-gray-600"><strong data-i18n="symptoms">Symptoms:</strong></p>
                                        <p id="disease-symptoms" class="text-gray-700 mt-1">Disease symptoms description</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Treatment Methods -->
                            <div class="mb-6">
                                <h6 class="font-semibold text-gray-800 mb-3 flex items-center">
                                    <i class="fa-solid fa-prescription-bottle mr-2 text-green-600"></i>
                                    <span data-i18n="treatment_methods">Treatment Methods</span>
                                </h6>
                                <ul id="treatment-list" class="space-y-2 text-sm text-gray-700">
                                    <!-- Treatment list injected by JavaScript -->
                                </ul>
                            </div>

                            <button onclick="careGuide.closeDiseaseDetail()"
                                class="w-full bg-white hover:bg-gray-50 border border-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg transition">
                                <i class="fa-solid fa-arrow-left mr-2"></i> Back
                            </button>
                        </div>

                        <!-- Organic Fertilizers Section -->
                        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
                            <h4 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                                <i class="fa-solid fa-leaf text-green-600 mr-2"></i>
                                <span data-i18n="recommended_fertilizers">Recommended Organic Fertilizers</span>
                            </h4>
                            <div id="fertilizers-list" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <!-- Fertilizer cards injected by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Professional Footer (Added ID for Scroll Logic) -->
    <footer id="main-footer" class="bg-gray-900 text-gray-300 pt-16 pb-8 relative z-20">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
                <!-- Brand -->
                <div class="col-span-1 md:col-span-1">
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fa-solid fa-carrot text-orange-500 text-2xl"></i>
                        <h2 class="text-2xl font-bold text-white tracking-wide">VeggiePrice</h2>
                    </div>
                    <p class="text-gray-400 text-sm leading-relaxed mb-6" data-i18n="footer_desc">
                        Empowering Sri Lankan farmers and consumers with transparent, daily wholesale market data.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#"
                            class="w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center hover:bg-green-600 hover:text-white transition"><i
                                class="fa-brands fa-facebook-f text-sm"></i></a>
                        <a href="#"
                            class="w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center hover:bg-blue-400 hover:text-white transition"><i
                                class="fa-brands fa-twitter text-sm"></i></a>
                        <a href="#"
                            class="w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center hover:bg-pink-600 hover:text-white transition"><i
                                class="fa-brands fa-instagram text-sm"></i></a>
                    </div>
                </div>
                <!-- ... Footer Links ... -->
                <div>
                    <h3 class="text-white font-bold mb-6 text-sm uppercase tracking-wider" data-i18n="footer_quick">
                        Quick Links</h3>
                    <ul class="space-y-3 text-sm">
                        <li><a href="#" onclick="app.goHome(); return false;"
                                class="text-gray-400 hover:text-green-400 transition" data-i18n="nav_home">Home</a></li>
                        <li><a href="#" onclick="app.scrollToSection('markets'); return false;"
                                class="text-gray-400 hover:text-green-400 transition"
                                data-i18n="nav_markets">Markets</a></li>
                        <li><a href="#" onclick="app.toggleAbout(); return false;"
                                class="text-gray-400 hover:text-green-400 transition" data-i18n="nav_about">About Us</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-white font-bold mb-6 text-sm uppercase tracking-wider" data-i18n="footer_support">
                        Support</h3>
                    <ul class="space-y-3 text-sm">
                        <li><a href="#" class="text-gray-400 hover:text-green-400 transition"
                                data-i18n="privacy">Privacy Policy</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-white font-bold mb-6 text-sm uppercase tracking-wider" data-i18n="footer_contact">
                        Contact</h3>
                    <ul class="space-y-4 text-sm">
                        <li class="flex items-start">
                            <i class="fa-solid fa-location-dot mt-1 mr-3 text-green-500"></i>
                            <span class="text-gray-400">Bandarawela, Sri Lanka</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fa-solid fa-envelope mr-3 text-green-500"></i>
                            <span class="text-gray-400">hello@veggieprice.lk</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div
                class="border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-gray-500">
                <p>&copy; 2025 VeggiePrice Sri Lanka. <span data-i18n="footer_rights">All rights reserved.</span></p>
            </div>
        </div>
    </footer>

    <!-- Image Viewer Modal -->
    <div id="image-modal"
        class="modal fixed inset-0 bg-stone-900/95 flex items-center justify-center p-4 md:p-8 backdrop-blur-md"
        onclick="app.closeModal()">
        <button
            class="absolute top-6 right-6 text-white hover:text-red-400 z-50 transition p-3 bg-white/10 hover:bg-white/20 rounded-full w-12 h-12 flex items-center justify-center backdrop-blur-md border border-white/10">
            <i class="fa-solid fa-xmark text-2xl"></i>
        </button>
        <div class="modal-content relative max-w-4xl w-full max-h-screen flex flex-col items-center justify-center"
            onclick="event.stopPropagation()">
            <div
                class="bg-white/10 backdrop-blur-md text-white px-6 py-3 rounded-full mb-6 flex items-center space-x-4 shadow-2xl border border-white/20">
                <span id="modal-market-name" class="font-bold text-green-300 text-lg">Market</span>
                <span class="w-1.5 h-1.5 bg-white/50 rounded-full"></span>
                <span id="modal-date" class="text-sm text-gray-200">Date</span>
            </div>
            <img id="modal-image" src="" alt="Price List"
                class="max-w-full max-h-[80vh] object-contain rounded-xl shadow-2xl border border-white/10 bg-black"
                onerror="this.src='https://placehold.co/600x800/f3f4f6/374151?text=Image+Load+Error'">
            <p class="text-gray-400 text-xs mt-6 font-light">Tap anywhere outside to close</p>
        </div>
    </div>

    <!-- Mobile Bottom Navigation Bar (Cricbuzz Style) -->
    <nav id="mobile-bottom-nav"
        class="md:hidden fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 flex justify-around items-center h-[60px] z-[9999] px-2 pb-1 safe-area-bottom">

        <!-- Home -->
        <button onclick="app.goHome()"
            class="flex flex-col items-center justify-center w-full h-full text-gray-500 hover:text-green-700 active:text-green-700 transition group focus:outline-none">
            <i class="fa-solid fa-house text-lg mb-1 group-hover:scale-110 transition-transform"></i>
            <span class="text-[10px] font-medium" data-i18n="nav_home">Home</span>
        </button>

        <!-- Markets -->
        <button onclick="app.scrollToSection('markets')"
            class="flex flex-col items-center justify-center w-full h-full text-gray-500 hover:text-green-700 active:text-green-700 transition group focus:outline-none">
            <i class="fa-solid fa-store text-lg mb-1 group-hover:scale-110 transition-transform"></i>
            <span class="text-[10px] font-medium" data-i18n="nav_markets">Markets</span>
        </button>

        <!-- Agri Guide -->
        <button onclick="app.scrollToSection('care-guide')"
            class="flex flex-col items-center justify-center w-full h-full text-gray-500 hover:text-green-600 active:text-green-600 transition group focus:outline-none">
            <i class="fa-solid fa-leaf text-lg mb-1 group-hover:scale-110 transition-transform"></i>
            <span class="text-[10px] font-medium" data-i18n="nav_agri_guide">Agri Guide</span>
        </button>

        <!-- Emoji/Fun (Central Highlight) -->
        <button onclick="emojiController.handleClick(event)"
            class="flex flex-col items-center justify-center w-full h-full text-gray-500 hover:text-orange-600 active:text-orange-600 transition group focus:outline-none">
            <div class="relative">
                <i
                    class="fa-solid fa-carrot text-xl mb-1 group-hover:scale-125 transition-transform text-orange-500"></i>
            </div>
            <span class="text-[10px] font-medium">Fun</span>
        </button>

        <!-- About -->
        <button onclick="app.toggleAbout()"
            class="flex flex-col items-center justify-center w-full h-full text-gray-500 hover:text-green-700 active:text-green-700 transition group focus:outline-none">
            <i class="fa-solid fa-circle-info text-lg mb-1 group-hover:scale-110 transition-transform"></i>
            <span class="text-[10px] font-medium" data-i18n="nav_about">About</span>
        </button>
    </nav>

    <!-- External JavaScript -->
    <script src="js/app.js"></script>


</body>

</html>